{"version":3,"sources":["webpack:///webpack/bootstrap f0aabe75424729f3153a","webpack:///./assets/ts/main.ts","webpack:///./assets/ts/game.ts","webpack:///./assets/ts/settings.ts","webpack:///./assets/ts/engine.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,CAAC;AACD;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,+IAA+I;AAC9L;AACA;AACA;AACA;AACA,kDAAkD,kLAAkL;AACpO;AACA;AACA;AACA;AACA,6CAA6C,4IAA4I;AACzL;AACA;AACA;AACA;AACA,gDAAgD,iJAAiJ;AACjM;AACA;AACA;AACA;AACA,kDAAkD,kLAAkL;AACpO;AACA,4CAA4C;AAC5C;AACA;AACA,8CAA8C,kHAAkH;AAChK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,gBAAgB;AAChB;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB,qDAAqD,eAAe,EAAE;AACtE;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD","file":"js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f0aabe75424729f3153a","/// <reference path=\"../dts/pixi.js.d.ts\" />\n\"use strict\";\nexports.__esModule = true;\nvar game_1 = require(\"./game\");\nvar Main = (function () {\n    function Main() {\n        this.tbgscratch = new game_1[\"default\"]();\n    }\n    return Main;\n}());\nexports[\"default\"] = Main;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/ts/main.ts\n// module id = 0\n// module chunks = 0","\"use strict\";\nexports.__esModule = true;\nvar settings_1 = require(\"./settings\");\nvar engine_1 = require(\"./engine\");\nvar Game = (function () {\n    function Game() {\n        console.log('GAME');\n    }\n    Game.prototype.init = function () {\n        PIXI.loader.add('player', '/static/img/player.png');\n        PIXI.loader.add('bg', '/static/img/bg.png');\n        PIXI.loader.add('level1', '/assets/json/levelone.json');\n        PIXI.loader.load(this._onLoad.bind(this));\n    };\n    Game.prototype._onLoad = function () {\n        this._settings = new settings_1[\"default\"]();\n        this._engine = new engine_1[\"default\"]();\n        // this.engine.addSystem(new AnimationSystem(this.settings));\n        // this.engine.addSystem(new MoveSystem(this.settings));\n        // this.engine.addSystem(new RenderSystem(this.settings));\n        // this.engine.addSystem(new ControlSystem(this.settings));\n        // this.engine.addSystem(new CollisionSystem(this.settings));\n        // this.engine.addSystem(new LevelSystem(this.settings));\n        this._engine.init();\n    };\n    return Game;\n}());\nexports[\"default\"] = Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/ts/game.ts\n// module id = 1\n// module chunks = 0","\"use strict\";\nexports.__esModule = true;\nvar Settings = (function () {\n    function Settings() {\n        this.GRAVITY = 1;\n        this.FRICTION = 0.90;\n        this.TILE = 16;\n        this.MAP = [45, 30];\n        this.KEY = { SPACE: 32, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, P: 80 };\n    }\n    return Settings;\n}());\nexports[\"default\"] = Settings;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/ts/settings.ts\n// module id = 2\n// module chunks = 0","// import MoveNode from './nodes/move';\n// import RenderNode from './nodes/render';\n// import ControlNode from './nodes/control';\n// import CollisionNode from './nodes/collision';\n// import AnimationNode from './nodes/animation';\n// import LevelNode from './nodes/level';\n\"use strict\";\nexports.__esModule = true;\nvar Engine = (function () {\n    function Engine() {\n        // this.entities = [];\n        // this.systems = [];\n        // this.nodes = [];\n        // this.typedNodes = {};\n        // this.isPaused = false;\n    }\n    Engine.prototype.init = function () {\n        this.update();\n    };\n    Engine.prototype.addEntity = function (entity) {\n        // this.entities.push(entity);\n        // if (entity.components.display && entity.components.position) {\n        //     // render\n        //     this.typedNodes['render'] = this.typedNodes['render'] || [];\n        //     this.typedNodes['render'].push({ entityId: entity.id, class: 'render', data: new RenderNode(entity.id, entity.components.display, entity.components.position), isActive: true });\n        // }\n        // if (entity.components.animation && entity.components.display && entity.components.velocity) {\n        //     this.typedNodes['animation'] = this.typedNodes['animation'] || [];\n        //     // animation\n        //     this.typedNodes['animation'].push({ entityId: entity.id, class: 'animation', data: new AnimationNode(entity.id, entity.components.animation, entity.components.display, entity.components.velocity), isActive: true });\n        // }\n        // if (entity.components.velocity && entity.components.position) {\n        //     this.typedNodes['move'] = this.typedNodes['move'] || [];\n        //     // move\n        //     this.typedNodes['move'].push({ entityId: entity.id, class: 'move', data: new MoveNode(entity.id, entity.components.position, entity.components.velocity), isActive: true });\n        // }\n        // if (entity.components.velocity && entity.components.input) {\n        //     this.typedNodes['control'] = this.typedNodes['control'] || [];\n        //     // control\n        //     this.typedNodes['control'].push({ entityId: entity.id, class: 'control', data: new ControlNode(entity.id, entity.components.control, entity.components.velocity), isActive: true });\n        // }\n        // if (entity.components.collision) {\n        //     this.typedNodes['collision'] = this.typedNodes['collision'] || [];\n        //     // collision\n        //     this.typedNodes['collision'].push({ entityId: entity.id, class: 'collision', data: new CollisionNode(entity.id, entity.components.collision, entity.components.display, entity.components.velocity), isActive: true });\n        // }\n        // if (entity.components.position) { // need a second 'trigger' component or this will apply to all rendered objects\n        //     this.typedNodes['level'] = this.typedNodes['level'] || [];\n        //     // level\n        //     this.typedNodes['level'].push({ entityId: entity.id, class: 'level', data: new LevelNode(entity.id, entity.components.position), isActive: true });\n        // }\n        // return entity;\n    };\n    Engine.prototype.addEntities = function (entities) {\n        // if (entities && entities.length) {\n        //     entities.map(this.addEntity.bind(this));\n        // }\n    };\n    Engine.prototype.removeEntity = function (entity) {\n        // let entityId = entity.id;\n        // this.entities = this.entities.filter((entity) => {\n        //     return entity.id !== entityId;\n        // });\n    };\n    Engine.prototype.removeEntityById = function (entityId) {\n        // return this.removeEntity({ id : entityId });\n    };\n    Engine.prototype.removeEntitiesById = function (ids) {\n        // return ids.map((id) => {\n        //     return this.removeEntityById(id);\n        // });\n    };\n    Engine.prototype.addSystem = function (system) {\n        // this.systems.push(system);\n        // system.init();\n    };\n    Engine.prototype.removeSystem = function (system) {\n        // system.stop();\n        // system = null;\n        // this.systems = this.systems.filter((system) => {\n        //     return !!system;\n        // });\n    };\n    Engine.prototype.getEntityById = function (entityId) {\n        // return this.entities.filter((entity) => {\n        //     return entity.id === entityId;\n        // })[0];\n    };\n    Engine.prototype.update = function (before) {\n        // this.isPaused = false;\n        if (before === void 0) { before = 0; }\n        // if (document.visibilityState !== 'visible') {\n        //     this.isPaused = true;\n        // }\n        // let now = performance.now();\n        // let dt = (now - before)/1000;\n        // dt = Math.min(dt, 0.1); // magic number to prevent massive dt when tab not active\n        // if (!this.isPaused) {\n        //     let nodes = Object.keys(this.typedNodes).map((type) => {\n        //         return this.typedNodes[type];\n        //     });\n        //     [].concat.apply([], nodes).filter((node) => {\n        //         return !node.isActive;\n        //     }).map((node) => {\n        //         return node.entityId;\n        //     }).filter((value, index, array) => {\n        //         return array.indexOf(value) === index;\n        //     }).map((id) => {\n        //         let entity = this.getEntityById(id);\n        //         console.log(entity);\n        //         entity.destroy();\n        //     });\n        //     let results = [];\n        //     this.systems.map((system) => {\n        //         results.push(system.update(dt, this.typedNodes[system.class] || []));\n        //     });\n        //     results = results.filter((result) => { return result; });\n        //     let newEntities = results.map((result) => {\n        //         return result.newEntities;\n        //     })[0];\n        //     let deadEntities = results.map((result) => {\n        //         return result.deadEntities;\n        //     });\n        //     this.addEntities(newEntities);\n        // }\n        // before = now;\n        // requestAnimationFrame(this.update.bind(this, before));\n    };\n    return Engine;\n}());\nexports[\"default\"] = Engine;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/ts/engine.ts\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}
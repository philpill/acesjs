{"version":3,"sources":["webpack:///webpack/bootstrap 02611869d4fe4715af29","webpack:///./assets/js/main.js","webpack:///./assets/js/game.js","webpack:///./assets/js/engine.js","webpack:///./assets/js/nodes/move.js","webpack:///./assets/js/nodes/render.js","webpack:///./assets/js/nodes/control.js","webpack:///./assets/js/nodes/collision.js","webpack:///./assets/js/nodes/animation.js","webpack:///./assets/js/nodes/level.js","webpack:///./assets/js/systems/move.js","webpack:///./assets/js/systems/render.js","webpack:///./assets/js/systems/control.js","webpack:///./assets/js/systems/collision.js","webpack:///./assets/js/systems/animation.js","webpack:///./assets/js/systems/level.js","webpack:///./assets/js/data/settings.js","webpack:///./assets/js/prefab/level.js","webpack:///./assets/js/prefab/player.js","webpack:///./assets/js/entity.js","webpack:///./assets/js/components/display.js","webpack:///./assets/js/components/position.js","webpack:///./assets/js/components/velocity.js","webpack:///./assets/js/components/input.js","webpack:///./assets/js/components/collision.js","webpack:///./assets/js/components/animation.js","webpack:///./assets/js/prefab/sky.js","webpack:///./assets/js/prefab/ground.js","webpack:///./assets/js/prefab/background.js"],"names":["game","init","Game","engine","PIXI","loader","add","load","onLoad","bind","settings","addSystem","Engine","entities","systems","nodes","typedNodes","isPaused","update","entity","push","components","display","position","entityId","id","class","data","isActive","animation","velocity","input","control","collision","length","map","addEntity","filter","removeEntity","ids","removeEntityById","system","stop","before","document","visibilityState","now","performance","dt","Math","min","Object","keys","type","concat","apply","node","value","index","array","indexOf","getEntityById","console","log","destroy","results","result","newEntities","deadEntities","addEntities","requestAnimationFrame","MoveNode","positionComponent","velocityComponent","RenderNode","displayComponent","ControlNode","inputComponent","CollisionNode","collisionComponent","AnimationNode","animationComponent","LevelNode","MoveSystem","time","velocityData","positionData","isGrounded","accelerationX","velocityX","FRICTION","velocityY","max","y","floor","TILE","accelerationY","x","MAP","RenderSystem","sprites","stage","container","Stage","Container","addChild","renderer","autoDetectRenderer","width","height","body","appendChild","view","i","j","hasOwnProperty","sprite","isFocus","mapWidth","mapHeight","screenWidth","screenHeight","pivotX","pivot","pivotY","render","ControlSystem","e","key","keyCode","isJump","KEY","SPACE","isLeft","LEFT","isUp","UP","isRight","RIGHT","isDown","DOWN","P","window","addEventListener","onKeyDown","onKeyUp","removeEventListener","maxAccelerationY","maxAccelerationX","CollisionSystem","sprite1","sprite2","isCollision","primaries","secondaries","primary","secondary","errorMargin","isBottomCollision","isTopCollision","isRightCollision","isLeftCollision","collide","AnimationSystem","timer","prop","currentAnimationProp","animationData","displayData","frames","currentFrame","texture","frame","setAnimation","updateFrame","LevelSystem","isLoaded","currentLevel","levels","resources","level1","levelNumber","levelData","level","Array","from","Set","loadLevel","getAllEntityIds","finishX","properties","finishY","SettingsData","GRAVITY","LevelPrefab","createLevel","mapData","layers","k","l","val","ground","tilewidth","tileheight","bg","sky","createLayer","createBackgroundLayer","player","startX","startY","PlayerPrefab","start","utils","TextureCache","Sprite","Rectangle","walkRight","walkLeft","jump","default","isPlayer","addComponents","Entity","generateUUID","d","Date","getTime","uuid","replace","c","r","random","toString","component","componentClass","DisplayComponent","PositionComponent","VelocityComponent","InputComponent","CollisionComponent","AnimationComponent","SkyPrefab","tile","Texture","addComponent","GroundPrefab","thing"],"mappings":"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","file":"js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 02611869d4fe4715af29","\nimport Game from './game';\n\nlet game = new Game();\ngame.init();\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/main.js","import Engine from './engine';\n\nimport MoveSystem from './systems/move';\nimport RenderSystem from './systems/render';\nimport ControlSystem from './systems/control';\nimport CollisionSystem from './systems/collision';\nimport AnimationSystem from './systems/animation';\nimport LevelSystem from './systems/level';\n\nimport SettingsData from './data/settings';\n\nimport PlayerPrefab from './prefab/player';\nimport LevelPrefab from './prefab/level';\n\nexport default class Game {\n\n    constructor() {\n\n        this.engine = {};\n    }\n\n    init() {\n\n        PIXI.loader.add('player', '/static/img/player.png');\n\n        PIXI.loader.add('bg', '/static/img/bg.png');\n\n        PIXI.loader.add('level1', '/assets/json/levelone.json');\n\n        PIXI.loader.load(this.onLoad.bind(this));\n    }\n\n    onLoad() {\n\n        this.settings = new SettingsData();\n\n        this.engine = new Engine();\n\n        this.engine.addSystem(new AnimationSystem(this.settings));\n\n        this.engine.addSystem(new MoveSystem(this.settings));\n\n        this.engine.addSystem(new RenderSystem(this.settings));\n\n        this.engine.addSystem(new ControlSystem(this.settings));\n\n        this.engine.addSystem(new CollisionSystem(this.settings));\n\n        this.engine.addSystem(new LevelSystem(this.settings));\n\n        this.engine.init();\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/game.js","import MoveNode from './nodes/move';\nimport RenderNode from './nodes/render';\nimport ControlNode from './nodes/control';\nimport CollisionNode from './nodes/collision';\nimport AnimationNode from './nodes/animation';\nimport LevelNode from './nodes/level';\n\nexport default class Engine {\n\n    constructor() {\n\n        this.entities = [];\n        this.systems = [];\n        this.nodes = [];\n        this.typedNodes = {};\n        this.isPaused = false;\n    }\n\n    init() {\n\n        this.update();\n    }\n\n    addEntity(entity) {\n\n        this.entities.push(entity);\n\n        if (entity.components.display && entity.components.position) {\n\n            // render\n            this.typedNodes['render'] = this.typedNodes['render'] || [];\n\n            this.typedNodes['render'].push({ entityId: entity.id, class: 'render', data: new RenderNode(entity.id, entity.components.display, entity.components.position), isActive: true });\n        }\n\n        if (entity.components.animation && entity.components.display && entity.components.velocity) {\n\n            this.typedNodes['animation'] = this.typedNodes['animation'] || [];\n\n            // animation\n            this.typedNodes['animation'].push({ entityId: entity.id, class: 'animation', data: new AnimationNode(entity.id, entity.components.animation, entity.components.display, entity.components.velocity), isActive: true });\n        }\n\n        if (entity.components.velocity && entity.components.position) {\n\n            this.typedNodes['move'] = this.typedNodes['move'] || [];\n\n            // move\n            this.typedNodes['move'].push({ entityId: entity.id, class: 'move', data: new MoveNode(entity.id, entity.components.position, entity.components.velocity), isActive: true });\n        }\n\n        if (entity.components.velocity && entity.components.input) {\n\n            this.typedNodes['control'] = this.typedNodes['control'] || [];\n\n            // control\n            this.typedNodes['control'].push({ entityId: entity.id, class: 'control', data: new ControlNode(entity.id, entity.components.control, entity.components.velocity), isActive: true });\n        }\n\n        if (entity.components.collision) {\n\n            this.typedNodes['collision'] = this.typedNodes['collision'] || [];\n\n            // collision\n            this.typedNodes['collision'].push({ entityId: entity.id, class: 'collision', data: new CollisionNode(entity.id, entity.components.collision, entity.components.display, entity.components.velocity), isActive: true });\n        }\n\n        if (entity.components.position) { // need a second 'trigger' component or this will apply to all rendered objects\n\n            this.typedNodes['level'] = this.typedNodes['level'] || [];\n\n            // level\n            this.typedNodes['level'].push({ entityId: entity.id, class: 'level', data: new LevelNode(entity.id, entity.components.position), isActive: true });\n        }\n\n        return entity;\n    }\n\n    addEntities(entities) {\n        if (entities && entities.length) {\n            entities.map(this.addEntity.bind(this));\n        }\n    }\n\n    removeEntity(entity) {\n        let entityId = entity.id;\n        this.entities = this.entities.filter((entity) => {\n            return entity.id !== entityId;\n        });\n    }\n\n    removeEntityById(entityId) {\n        return this.removeEntity({ id : entityId });\n    }\n\n    removeEntitiesById(ids) {\n        return ids.map((id) => {\n            return this.removeEntityById(id);\n        });\n    }\n\n    addSystem(system) {\n\n        this.systems.push(system);\n\n        system.init();\n    }\n\n    removeSystem(system) {\n\n        system.stop();\n\n        system = null;\n\n        this.systems = this.systems.filter((system) => {\n            return !!system;\n        });\n    }\n\n    getEntityById(entityId) {\n        return this.entities.filter((entity) => {\n            return entity.id === entityId;\n        })[0];\n    }\n\n    update(before = 0) {\n\n        this.isPaused = false;\n\n        if (document.visibilityState !== 'visible') {\n\n            this.isPaused = true;\n        }\n\n        let now = performance.now();\n\n        let dt = (now - before)/1000;\n\n        dt = Math.min(dt, 0.1); // magic number to prevent massive dt when tab not active\n\n        if (!this.isPaused) {\n\n            let nodes = Object.keys(this.typedNodes).map((type) => {\n                return this.typedNodes[type];\n            });\n\n            [].concat.apply([], nodes).filter((node) => {\n                return !node.isActive;\n            }).map((node) => {\n                return node.entityId;\n            }).filter((value, index, array) => {\n                return array.indexOf(value) === index;\n            }).map((id) => {\n                let entity = this.getEntityById(id);\n                console.log(entity);\n                entity.destroy();\n            });\n\n            let results = [];\n\n            this.systems.map((system) => {\n                results.push(system.update(dt, this.typedNodes[system.class] || []));\n            });\n\n            results = results.filter((result) => { return result; });\n\n            let newEntities = results.map((result) => {\n                return result.newEntities;\n            })[0];\n\n            let deadEntities = results.map((result) => {\n                return result.deadEntities;\n            });\n\n            this.addEntities(newEntities);\n        }\n\n        before = now;\n\n        requestAnimationFrame(this.update.bind(this, before));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/engine.js","export default class MoveNode {\n\n    constructor (entityId, positionComponent, velocityComponent) {\n        this.entityId = entityId;\n        this.position = positionComponent;\n        this.velocity = velocityComponent;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/nodes/move.js","export default class RenderNode {\n\n    constructor (entityId, displayComponent, positionComponent) {\n        this.entityId = entityId;\n        this.display = displayComponent;\n        this.position = positionComponent;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/nodes/render.js","export default class ControlNode {\n\n    constructor (entityId, inputComponent, velocityComponent) {\n        this.entityId = entityId;\n        this.input = inputComponent;\n        this.velocity = velocityComponent;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/nodes/control.js","export default class CollisionNode {\n\n    constructor (entityId, collisionComponent, displayComponent, velocityComponent) {\n        this.entityId = entityId;\n        this.collision = collisionComponent;\n        this.display = displayComponent;\n        this.velocity = velocityComponent;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/nodes/collision.js","export default class AnimationNode {\n\n    constructor (entityId, animationComponent, displayComponent, velocityComponent) {\n        this.entityId = entityId;\n        this.animation = animationComponent;\n        this.display = displayComponent;\n        this.velocity = velocityComponent;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/nodes/animation.js","export default class LevelNode {\n\n    constructor (entityId, positionComponent) {\n        this.entityId = entityId;\n        this.position = positionComponent;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/nodes/level.js","export default class MoveSystem {\n\n    constructor(settings) {\n\n        this.class = 'move';\n        this.settings = settings;\n    }\n\n    init() {\n\n    }\n\n    update(time, nodes) {\n\n        nodes.map((node) => {\n\n            let velocityData = node.data.velocity;\n\n            let positionData = node.data.position;\n\n            if (!velocityData.isGrounded) {\n                // limit horizontal movement in the air\n                velocityData.accelerationX = velocityData.accelerationX/3;\n            }\n\n            velocityData.velocityX = (velocityData.velocityX + time * velocityData.accelerationX) * this.settings.FRICTION;\n\n            if (velocityData.isGrounded) {\n                    // prevent any more downwards vertical movement\n                    velocityData.velocityY = Math.max(0, velocityData.velocityY);\n                    // round up to tile edge\n                    positionData.y = Math.floor(positionData.y/this.settings.TILE)*this.settings.TILE;\n\n            } else {\n\n                velocityData.velocityY = (velocityData.velocityY + time * velocityData.accelerationY);\n            }\n\n            positionData.x += (velocityData.velocityX + time * velocityData.velocityX) * this.settings.TILE;\n\n            // stop movement at map boundaries - shift this to collision system\n            positionData.x = Math.max(0, positionData.x);\n            positionData.x = Math.min(positionData.x, this.settings.MAP[0]*this.settings.TILE - this.settings.TILE);\n\n            // cap the velocity - anything more than 0.7 and the entity might fall\n            // though the tile before collision is detected\n            let velocityY = Math.min(velocityData.velocityY + time * velocityData.velocityY, 0.5);\n\n            positionData.y += velocityY * this.settings.TILE;\n\n            positionData.y = Math.max(0, positionData.y);\n\n            if (positionData.y > this.settings.MAP[0]*this.settings.TILE) {\n                console.log('OFF MAP');\n                node.isActive = false;\n            }\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/systems/move.js","export default class RenderSystem {\n\n    constructor(settings) {\n\n        this.class = 'render';\n\n        this.sprites = {};\n\n        this.stage = {};\n\n        this.container = {};\n\n        this.settings = settings;\n    }\n\n    init() {\n\n        this.stage = new PIXI.Stage();\n\n        this.container = new PIXI.Container();\n\n        this.stage.addChild(this.container);\n\n        this.renderer = PIXI.autoDetectRenderer(640, 480);\n\n        this.stage.position.x = this.renderer.width/2; // 320\n        this.stage.position.y = this.renderer.height/2; // 240\n\n        document.body.appendChild(this.renderer.view);\n    }\n\n    update(time, nodes) {\n\n        // console.log('render update');\n\n        for (var i = 0, j = nodes.length; i < j; i++) {\n\n            let id = nodes[i].data.entityId;\n\n            if (!this.sprites.hasOwnProperty(id)) {\n\n                let sprite = nodes[i].data.display.sprite;\n\n                this.sprites[id] = sprite;\n\n                this.container.addChild(sprite);\n            }\n\n            // console.log(nodes[i].data.position);\n            // console.log(nodes[i].data.display);\n\n            nodes[i].data.display.sprite.position.x = nodes[i].data.position.x;\n            nodes[i].data.display.sprite.position.y = nodes[i].data.position.y;\n\n            if (nodes[i].data.display.isFocus) {\n\n                let x = nodes[i].data.display.sprite.x;\n                let width = nodes[i].data.display.sprite.width;\n                let y = nodes[i].data.display.sprite.y;\n                let height = nodes[i].data.display.sprite.height;\n\n\n                let mapWidth = this.settings.MAP[0] * this.settings.TILE;\n                let mapHeight = this.settings.MAP[1] * this.settings.TILE;\n\n                let screenWidth = this.renderer.width;\n                let screenHeight = this.renderer.height;\n\n                // console.log('mapWidth ', mapWidth);\n                // console.log('screenWidth ', screenWidth);\n\n                let pivotX = x < screenWidth/2 ? screenWidth/2 : x;\n                pivotX = x + screenWidth/2 > mapWidth ? mapWidth - screenWidth/2 : pivotX;\n\n                this.stage.pivot.x = pivotX;\n\n                // console.log(pivotX);\n\n                let pivotY = y < mapHeight/2 ? screenHeight/2 : y;\n                pivotY = y + screenHeight/2 > mapHeight ? mapHeight - screenHeight/2 : pivotY;\n\n                this.stage.pivot.y = pivotY;\n\n\n\n                // test against map width * tilesize\n                if (nodes[i].data.display.sprite.x < 0 ||\n                    nodes[i].data.display.sprite.x + nodes[i].data.display.sprite.width > mapWidth) {\n                    console.log('EXIT');\n                }\n\n                // console.log('x', this.stage.pivot.x);\n                // console.log('y', this.stage.pivot.y);\n            }\n        }\n\n        for (let id of Object.keys(this.sprites)) {\n            if (!this.sprites[id]) {\n                delete this.sprites[id];\n            }\n        }\n\n        this.renderer.render(this.stage);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/systems/render.js","export default class ControlSystem {\n\n    constructor(settings) {\n\n        this.class = 'control';\n        this.settings = settings;\n    }\n\n    onKeyDown(e) {\n\n        let key = e.keyCode;\n\n        this.isJump = this.isJump | key === this.settings.KEY.SPACE;\n        this.isLeft = this.isLeft | key === this.settings.KEY.LEFT;\n        this.isUp = this.isUp | key === this.settings.KEY.UP;\n        this.isRight = this.isRight | key === this.settings.KEY.RIGHT;\n        this.isDown = this.isDown | key === this.settings.KEY.DOWN;\n    }\n\n    onKeyUp(e) {\n\n        let key = e.keyCode;\n\n        this.isJump = key === this.settings.KEY.SPACE ? false : this.isJump;\n        this.isLeft = key === this.settings.KEY.LEFT ? false : this.isLeft;\n        this.isUp = key === this.settings.KEY.UP ? false : this.isUp;\n        this.isRight = key === this.settings.KEY.RIGHT ? false : this.isRight;\n        this.isDown = key === this.settings.KEY.DOWN ? false : this.isDown;\n\n        if (key === this.settings.KEY.P) {\n            // this.isPause = !this.isPause;\n        }\n    }\n\n    bind() {\n        window.addEventListener('keydown', this.onKeyDown.bind(this), false);\n        window.addEventListener('keyup', this.onKeyUp.bind(this), false);\n    }\n\n    unbind() {\n        window.removeEventListener('keydown', this.onKeyDown.bind(this), false);\n        window.removeEventListener('keyup', this.onKeyUp.bind(this), false);\n    }\n\n    init() {\n        this.bind();\n    }\n\n    update(time, nodes) {\n\n        for (var i = 0, j = nodes.length; i < j; i++) {\n\n            if (this.isUp && nodes[i].data.velocity.isGrounded) {\n                console.log('JUMP');\n                nodes[i].data.velocity.accelerationY = -nodes[i].data.velocity.maxAccelerationY;\n                nodes[i].data.velocity.velocityY = -0.3;\n            } else {\n                nodes[i].data.velocity.accelerationY = 1;\n            }\n\n            if (this.isRight) {\n                // console.log('right');\n                nodes[i].data.velocity.accelerationX = nodes[i].data.velocity.maxAccelerationX;\n            } else if (this.isLeft) {\n                // console.log('left');\n                nodes[i].data.velocity.accelerationX = -nodes[i].data.velocity.maxAccelerationX;\n            } else {\n                nodes[i].data.velocity.accelerationX = 0;\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/systems/control.js","export default class CollisionSystem {\n\n    constructor(settings) {\n\n        this.class = 'collision';\n        this.settings = settings;\n    }\n\n    init() {\n\n    }\n\n    isCollision(sprite1, sprite2) {\n\n        let isCollision = false;\n\n        if (sprite1.x < sprite2.x + sprite2.width &&\n           sprite1.x + sprite1.width > sprite2.x &&\n           sprite1.y < sprite2.y + sprite2.height &&\n           sprite1.height + sprite1.y > sprite2.y) {\n            isCollision = true;\n        }\n\n        return isCollision;\n    }\n\n    update(time, nodes) {\n\n        let primaries = nodes.filter((node) => {\n\n            return node.data.collision.type === 'primary';\n        });\n\n        let secondaries = nodes.filter((node) => {\n\n            return node.data.collision.type !== 'primary';\n        });\n\n        primaries.map((primary) => {\n\n            primary.data.velocity.isGrounded = false;\n\n            secondaries.map((secondary) => {\n\n                let sprite1 = primary.data.display.sprite;\n\n                let sprite2 = secondary.data.display.sprite;\n\n                if (this.isCollision(sprite1, sprite2)) {\n\n                    let velocityData = primary.data.velocity;\n\n                    let errorMargin = this.settings.TILE/2;\n\n                    let isBottomCollision = sprite1.y + sprite1.height > sprite2.y &&\n                        sprite1.height + sprite1.y < sprite2.y + errorMargin;\n\n                    let isTopCollision = sprite2.y + sprite2.height > sprite1.y &&\n                        sprite2.height + sprite2.y < sprite1.y + errorMargin;\n\n                    let isRightCollision = sprite1.x + sprite1.width > sprite2.x &&\n                        sprite1.x + sprite1.width < sprite2.x + errorMargin;\n\n                    let isLeftCollision = sprite2.x + sprite2.width > sprite1.x &&\n                        sprite2.x + sprite2.width < sprite1.x + errorMargin;\n\n                    // check collision\n                    if (isBottomCollision) {\n\n                        // velocityData.accelerationY = Math.min(0, velocityData.accelerationY);\n                        velocityData.velocityY = Math.min(0, velocityData.velocityY);\n\n                        velocityData.isGrounded = true;\n\n                    } else if (isTopCollision) {\n\n                        // velocityData.accelerationY = Math.max(0, velocityData.accelerationY);\n                        velocityData.velocityY = Math.max(0, velocityData.velocityY);\n\n                    } else if (isRightCollision) {\n\n                        velocityData.accelerationX = Math.min(0, velocityData.accelerationX);\n                        velocityData.velocityX = Math.min(0, velocityData.velocityX);\n\n                    } else if (isLeftCollision) {\n\n                        velocityData.accelerationX = Math.max(0, velocityData.accelerationX);\n                        velocityData.velocityX = Math.max(0, velocityData.velocityX);\n                    }\n\n                    primary.data.collision.collide(secondary);\n                }\n            });\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/systems/collision.js","export default class AnimationSystem {\n\n    constructor(settings) {\n\n        this.class = 'animation';\n        this.settings = settings;\n        this.timer = 0;\n    }\n\n    init() {\n\n    }\n\n    setAnimation(node, prop) {\n\n        node.data.animation.currentAnimationProp = prop;\n    }\n\n    updateFrame(node) {\n\n        let animationData = node.data.animation;\n\n        let displayData = node.data.display;\n\n        let frames = animationData[node.data.animation.currentAnimationProp];\n\n        if (animationData.currentFrame + 1 >= frames.length) {\n\n            animationData.currentFrame = 0;\n\n        } else {\n\n            animationData.currentFrame++;\n        }\n\n        displayData.sprite.texture.frame = displayData.sprite.data.texture[frames[animationData.currentFrame]];\n    }\n\n    update(dt, nodes) {\n\n        nodes.map((node) => {\n\n            let velocityData = node.data.velocity;\n\n            let animationData = node.data.animation;\n\n            if (velocityData.velocityY > 0.01 || velocityData.velocityY < -0.01) {\n\n                // play jump animation\n                this.setAnimation(node, 'jump');\n\n            } else if (velocityData.velocityX > 0.1) {\n\n                //play right animation\n                this.setAnimation(node, 'walkRight');\n\n            } else if (velocityData.velocityX < -0.1) {\n\n                //play left animation\n                this.setAnimation(node, 'walkLeft');\n\n            } else {\n\n                this.setAnimation(node, 'default');\n            }\n\n            this.timer = this.timer + dt;\n\n            if (this.timer > 0.2) {\n\n                this.updateFrame(node);\n\n                this.timer = dt;\n            }\n\n            return node;\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/systems/animation.js","import SettingsData from '../data/settings';\n\nimport LevelPrefab from '../prefab/level';\n\nexport default class LevelSystem {\n\n    constructor(settings) {\n\n        this.class = 'level';\n        this.settings = settings;\n\n        this.isLoaded = false;\n        this.currentLevel;\n        this.levels = [{\n            data: PIXI.loader.resources.level1.data\n        }];\n    }\n\n    init() {\n\n\n    }\n\n    loadLevel(levelNumber) {\n        let levelData = this.levels[levelNumber].data;\n        let level =  new LevelPrefab(this.settings, levelData);\n        return level.entities;\n    }\n\n    getAllEntityIds(nodes) {\n\n        let ids = nodes.map((nodes) => {\n            return nodes.entityId;\n        });\n\n        ids = Array.from(new Set(ids));\n\n        return ids;\n    }\n\n    loadNextLevel() {\n        this.isLoaded = false;\n        this.currentLevel++;\n    }\n\n    update(time, nodes) {\n\n        let result = {};\n\n        this.currentLevel = this.currentLevel || 1;\n\n        if (!this.isLoaded) {\n            result.newEntities = this.loadLevel(this.currentLevel - 1);\n            result.deadEntities = this.getAllEntityIds(nodes);\n            this.isLoaded = true;\n        }\n\n        nodes.map((node) => {\n\n            // console.log(node);\n\n            let finishX = this.levels[this.currentLevel - 1].data.properties.finishX;\n            let finishY = this.levels[this.currentLevel - 1].data.properties.finishY;\n\n            let x = node.data.position.x / this.settings.TILE;\n            let y = node.data.position.y / this.settings.TILE;\n\n            // console.log(x + ' ' + y);\n\n            if (finishX === x && finishY === y) {\n\n                console.log('FINISH');\n\n                // this.loadNextLevel();\n            }\n\n        });\n\n            // console.log(this.levels[this.currentLevel]);\n\n            // console.log(this.levels[this.currentLevel - 1].data.properties.finishX);\n\n        return result;\n    }\n}\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/systems/level.js","export default class SettingsData {\n\n    constructor() {\n\n        this.GRAVITY = 1;\n        this.FRICTION = 0.90;\n        this.TILE = 16;\n        this.MAP = [45, 30];\n        this.KEY = { SPACE: 32, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, P: 80 };\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/data/settings.js","\nimport PlayerPrefab from './player';\nimport SkyPrefab from './sky';\nimport GroundPrefab from './ground';\nimport BackgroundPrefab from './background';\n\nexport default class LevelPrefab {\n\n    constructor(settings, data) {\n\n        this.settings = settings;\n\n        return this.createLevel(data);\n    }\n\n    createLayer(data) {\n\n        let mapData = data.layers[0].data;\n\n        for (var i = 0, j = data.height; i < j; i++) {\n\n            for (var k = 0, l = data.width; k < l; k++) {\n\n                let val = mapData[i * data.width + k];\n\n                if (val === 1) {\n\n                    let ground = new GroundPrefab(k * data.tilewidth, i * data.tilewidth, data.tileheight);\n\n                    data.entities.push(ground);\n                }\n            }\n        }\n    }\n\n    createBackgroundLayer(data) {\n\n        let mapData = data.layers[1].data;\n\n        for (var i = 0, j = data.height; i < j; i++) {\n\n            for (var k = 0, l = data.width; k < l; k++) {\n\n                let val = mapData[i * data.width + k];\n\n                if (val === 4) {\n\n                    let bg = new BackgroundPrefab(4, k * data.tilewidth, i * data.tilewidth, data.tileheight);\n\n                    data.entities.push(bg);\n\n                } else if (val === 5) {\n\n                    let bg = new BackgroundPrefab(5, k * data.tilewidth, i * data.tilewidth, data.tileheight);\n\n                    data.entities.push(bg);\n                }\n            }\n        }\n    }\n\n    createLevel(data) {\n\n        let mapData = data.layers[0].data;\n\n        data.entities = [];\n\n        let sky = new SkyPrefab(data.width, data.height, data.tileheight);\n\n        data.entities.push(sky);\n\n        this.createLayer(data);\n\n        this.createBackgroundLayer(data);\n\n        let player = new PlayerPrefab(this.settings, [data.properties.startX, data.properties.startY]);\n\n        data.entities.push(player);\n\n        return data;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/prefab/level.js","\nimport Entity from '../entity';\n\nimport DisplayComponent from '../components/display';\nimport PositionComponent from '../components/position';\nimport VelocityComponent from '../components/velocity';\nimport InputComponent from '../components/input';\nimport CollisionComponent from '../components/collision';\nimport AnimationComponent from '../components/animation';\n\n\nexport default class PlayerPrefab {\n\n    constructor(settings, start) {\n\n        let texture = PIXI.utils.TextureCache['/static/img/player.png'];\n\n        let sprite = new PIXI.Sprite(texture);\n\n        sprite.data = {};\n\n        sprite.data.texture = [];\n\n        sprite.data.texture.push(new PIXI.Rectangle(0, 0, 16, 32));\n        sprite.data.texture.push(new PIXI.Rectangle(16, 0, 16, 32));\n        sprite.data.texture.push(new PIXI.Rectangle(32, 0, 16, 32));\n        sprite.data.texture.push(new PIXI.Rectangle(48, 0, 16, 32));\n\n        texture.frame = sprite.data.texture[1];\n\n        let player = new Entity();\n\n        let animation = new AnimationComponent();\n\n        animation.walkRight = [1, 2];\n\n        animation.walkLeft = [2, 1];\n\n        animation.jump = [3];\n\n        animation.default = [0];\n\n        let collision = new CollisionComponent();\n\n        collision.type = 'primary';\n\n        let display = new DisplayComponent({ sprite: sprite });\n\n        display.isFocus = true;\n\n        let positionComponent = new PositionComponent();\n\n        positionComponent.isPlayer = true;\n\n        positionComponent.x = start[0] * settings.TILE;\n        positionComponent.y = start[1] * settings.TILE;\n\n        let velocityComponent = new VelocityComponent();\n\n        velocityComponent.accelerationY = settings.GRAVITY;\n\n        let inputComponent = new InputComponent();\n\n        player.addComponents(inputComponent, velocityComponent, positionComponent, display, collision, animation);\n\n        return player;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/prefab/player.js","export default class Entity {\n\n    constructor() {\n\n        this.id = this.generateUUID();\n        this.isActive = true;\n        this.components = {};\n    }\n\n    generateUUID() {\n        var d = new Date().getTime();\n        if(window.performance && typeof window.performance.now === \"function\"){\n            d += performance.now(); //use high-precision timer if available\n        }\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            var r = (d + Math.random()*16)%16 | 0;\n            d = Math.floor(d/16);\n            return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n        });\n        return uuid;\n    }\n\n    addComponent(component) {\n\n        this.components[component.class] = component;\n    }\n\n    addComponents(...components) {\n        components.map((component) => {\n            this.components[component.class] = component;\n        });\n    }\n\n    removeComponent(componentClass) {\n\n        this.components[componentClass] = null;\n    }\n\n    destroy() {\n        console.log('destroy');\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/entity.js","export default class DisplayComponent {\n\n    constructor(data) {\n\n        this.class = 'display';\n\n        this.sprite = data.sprite;\n\n        this.isFocus = false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/components/display.js","export default class PositionComponent {\n\n    constructor() {\n\n        this.class = 'position';\n\n        this.x = 0;\n        this.y = 0;\n\n        this.isPlayer = false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/components/position.js","export default class VelocityComponent {\n\n    constructor() {\n\n        this.class = 'velocity';\n\n        this.accelerationX = 0;\n        this.accelerationY = 0;\n\n        this.maxAccelerationX = 3;\n        this.maxAccelerationY = 4;\n\n        this.velocityX = 0;\n        this.velocityY = 0;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/components/velocity.js","export default class InputComponent {\n\n    constructor() {\n\n        this.class = 'input';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/components/input.js","export default class CollisionComponent {\n\n    constructor() {\n\n        this.class = 'collision';\n\n        this.type = '';\n\n        this.collide = () => {\n\n            // console.log('COLLIDE');\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/components/collision.js","export default class AnimationComponent {\n\n    constructor(data) {\n\n        this.class = 'animation';\n\n        this.default = [0];\n\n        this.walkRight = [1, 2];\n\n        this.walkLeft = [2, 1];\n\n        this.jump = [3];\n\n        this.currentAnimationProp = 'default';\n\n        this.currentFrame = 0;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/components/animation.js","\nimport Entity from '../entity';\n\nimport DisplayComponent from '../components/display';\nimport PositionComponent from '../components/position';\n\n\nexport default class SkyPrefab {\n\n    constructor(width, height, tile) {\n\n        let sky = new Entity();\n\n        let texture = new PIXI.Texture(PIXI.utils.TextureCache['bg'], new PIXI.Rectangle(33, 0, 14, tile));\n\n        let sprite = new PIXI.Sprite(texture);\n\n        sprite.height = height * tile;\n        sprite.width = width * tile;\n\n        let display = new DisplayComponent({ sprite: sprite });\n\n        sky.addComponent(display);\n\n        let position = new PositionComponent();\n\n        position.x = 0;\n        position.y = 0;\n\n        sky.addComponent(position);\n\n        return sky;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/prefab/sky.js","\nimport Entity from '../entity';\n\nimport DisplayComponent from '../components/display';\nimport PositionComponent from '../components/position';\nimport VelocityComponent from '../components/velocity';\nimport InputComponent from '../components/input';\nimport CollisionComponent from '../components/collision';\nimport AnimationComponent from '../components/animation';\n\n\nexport default class GroundPrefab {\n\n    constructor(x, y, tile) {\n\n        let ground = new Entity();\n\n        let texture = new PIXI.Texture(PIXI.utils.TextureCache['bg'], new PIXI.Rectangle(0, 0, 14, tile));\n\n        let thing = new PIXI.Sprite(texture);\n\n        thing.height = tile;\n        thing.width = tile;\n\n        let display = new DisplayComponent({ sprite: thing });\n\n        ground.addComponent(display);\n\n        let positionComponent = new PositionComponent();\n\n        positionComponent.x = x;\n        positionComponent.y = y;\n\n        ground.addComponent(positionComponent);\n\n        let collision = new CollisionComponent();\n\n        collision.type = 'secondary';\n\n        ground.addComponent(collision);\n\n        return ground;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/prefab/ground.js","\nimport Entity from '../entity';\n\nimport DisplayComponent from '../components/display';\nimport PositionComponent from '../components/position';\n\n\nexport default class GroundPrefab {\n\n    constructor(type, x, y, tile) {\n\n        let ground = new Entity();\n\n        let texture;\n\n        if (type === 4) {\n            texture = new PIXI.Texture(PIXI.utils.TextureCache['bg'], new PIXI.Rectangle(48, 0, 14, tile));\n\n        } else if (type === 5) {\n            texture = new PIXI.Texture(PIXI.utils.TextureCache['bg'], new PIXI.Rectangle(64, 0, 14, tile));\n        }\n\n        let thing = new PIXI.Sprite(texture);\n\n        thing.height = tile;\n        thing.width = tile;\n\n        let display = new DisplayComponent({ sprite: thing });\n\n        ground.addComponent(display);\n\n        let positionComponent = new PositionComponent();\n\n        positionComponent.x = x;\n        positionComponent.y = y;\n\n        ground.addComponent(positionComponent);\n\n        return ground;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/prefab/background.js"],"sourceRoot":""}